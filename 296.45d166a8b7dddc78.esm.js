"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[296],{xHvA:(a,e,s)=>{s.r(e),s.d(e,{default:()=>h});var n=s("ERkP"),t=s("P0LX"),l=s("/F87"),i=s("i08G"),d=s("13oN"),r=s("N5nB"),o=s("aGrZ"),u=s("NfVe"),f=s("uCKF"),c=s("Ral6"),m=s("jg1C");function h(){var a;const{translate:e}=(0,o.nt)(),{enqueueSnackbar:s}=(0,t.Ds)(),h=(0,l.s0)(),{id:v}=(0,l.UO)(),{staffEdit:p,isLoadingGetStaff:x}=(0,f.CG)((a=>a.staff)),[j,b]=(0,n.useState)([]),N=(null==p?void 0:p.personalInfo.firstName)+" "+(null==p?void 0:p.personalInfo.lastName);if((0,n.useEffect)((()=>{(0,f.WI)((0,u.Dh)(Number(v)))}),[v]),x)return(0,m.jsx)(i.ukE,{});return(0,m.jsxs)(i.rjZ,{container:!0,spacing:2,children:[(0,m.jsx)(i.rjZ,{item:!0,xs:12,children:(0,m.jsxs)(i.Kqy,{spacing:2,children:[(0,m.jsx)(d.aG,{links:[{name:"home",href:"#"},{name:"staffList",href:"/dashboard/staff"},{name:N,noTranslate:!0}]}),(0,m.jsx)(d.Dx,{title:N,avatar:null==p||null==(a=p.avatar)?void 0:a.url,button:(0,m.jsx)(i.Kqy,{sx:{mr:2},children:(0,m.jsx)(r.rs,{labelPlacement:"start",label:e("insas.active"),size:"small",name:"active",checked:null==p||!p.blocked,disabled:!0})})})]})}),(0,m.jsx)(i.rjZ,{item:!0,xs:12,sm:4,children:(0,m.jsx)(r.Zb,{sx:{padding:"8px"},children:(0,m.jsx)(d.zv,{files:j,setFiles:a=>{b(a)}})})}),(0,m.jsx)(i.rjZ,{item:!0,xs:12,sm:8,children:(0,m.jsx)(c.z,{onSubmit:async a=>{try{const e={data:{personalInfo:{firstName:null==a?void 0:a.firstName,lastName:null==a?void 0:a.lastName},contactInfo:{email:null==a?void 0:a.email,phone:null==a?void 0:a.phone,additionalPhone:a.additionalPhone},addressInfo:{address:null==a?void 0:a.address,complement:null==a?void 0:a.complement,zipCode:null==a?void 0:a.zip,state:null==a?void 0:a.state,city:null==a?void 0:a.city}}},n=new FormData;n.append("files",j[0]),await(0,f.WI)((0,u.RQ)({id:Number(v),data:e,file:0!==j.length?n:void 0})).unwrap(),h("/dashboard/staff"),s("Staff updated successfully!",{variant:"success"})}catch(e){s("Unable to updated staff!",{variant:"error"})}},initialData:p})})]})}}}]);