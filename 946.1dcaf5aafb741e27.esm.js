"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[946],{Jydz:(l,a,e)=>{e.r(a),e.d(a,{default:()=>h});var t=e("ERkP"),n=e("i08G"),s=e("13oN"),i=e("N5nB"),r=e("aGrZ"),o=e("DBxc"),d=e("q4t4"),u=e("uCKF"),c=e("jg1C");function h(){const l=(0,u.TL)(),{translate:a}=(0,r.nt)(),{clients:e,meta:h,isLoadingGetAllClients:p}=(0,u.CG)((l=>l.client)),{user:g}=(0,u.CG)((l=>l.auth)),v=(0,n.FgM)(),m=(0,t.useMemo)((()=>[{id:"name",Header:()=>a("insas.client_name"),accessor:l=>{var a,e;return(0,c.jsxs)(n.Kqy,{direction:"row",spacing:2,alignItems:"center",children:[(0,c.jsx)(i.qE,{alt:null==(a=l.avatar)?void 0:a.alt,src:null==(e=l.avatar)?void 0:e.photo,variant:"rounded"}),(0,c.jsx)(n.ZT$,{variant:"subtitle2",children:l.name})]})}},{id:"address",Header:a("insas.address"),accessor:l=>(0,c.jsx)(n.ZT$,{color:v.palette.grey[600],variant:"subtitle2",children:l.address})},{id:"active",Header:()=>a("insas.status"),accessor:l=>(0,c.jsx)(s.Af,{size:"small",variant:"filled",label:l.status?a("insas.inactive"):a("insas.active"),sx:{color:l.status?v.palette.error.dark:v.palette.success.dark,background:l.status?v.palette.error.lighter:v.palette.success.lighter,padding:"4px"}})}]),[a,v]),f=e.map((l=>{var a,e,t,n,s,i,r,o,d,u,c,h,p,g,v,m,f,b,x,j,k,y;const C=`${null==(a=l.personalInfo)?void 0:a.firstName} ${null==(e=l.personalInfo)?void 0:e.lastName}`;return{avatar:{alt:C||"",photo:Array.isArray(null==l?void 0:l.locations)&&null!=l&&l.locations.length&&Array.isArray(null==l||null==(t=l.locations)||null==(n=t[0])?void 0:n.bodiesOfWater)&&null!=l&&null!=(s=l.locations)&&null!=(i=s[0])&&i.bodiesOfWater.length&&Array.isArray(null==l||null==(r=l.locations)||null==(o=r[0])||null==(d=o.bodiesOfWater)||null==(u=d[0])?void 0:u.photos)&&null!=l&&null!=(c=l.locations)&&null!=(h=c[0])&&null!=(p=h.bodiesOfWater)&&null!=(g=p[0])&&g.photos.length?null==l||null==(v=l.locations)||null==(m=v[0])||null==(f=m.bodiesOfWater)||null==(b=f[0])||null==(x=b.photos)||null==(j=x[0])||null==(k=j.formats)?void 0:k.thumbnail.url:""},name:C,address:null==(y=l.addressInfo)?void 0:y.address,status:l.blocked,id:l.id}})),b=(0,t.useCallback)((({pageIndex:a,pageSize:e,filterSearch:t,sortBy:n})=>{null!=g&&g.id&&l((0,d.Ac)({loggedUser:g.id,pagination:{pageIndex:a,pageSize:e},filterSearch:t,sortBy:n}))}),[l,null==g?void 0:g.id]);return(0,c.jsxs)(n.rjZ,{container:!0,spacing:2,children:[(0,c.jsx)(n.rjZ,{item:!0,xs:12,children:(0,c.jsx)(s.aG,{links:[{href:"/dashboard/home",name:"home"},{name:"client_list"}]})}),(0,c.jsx)(n.rjZ,{item:!0,xs:12,children:(0,c.jsx)(o.Z,{data:f,columns:m,to:"create",title:"client_list",buttonTitle:"client",isLoading:p,onClickRow:"/dashboard/clients/:id/location/details",buttonImport:!0,fetchData:b,pageCount:h.pagination.pageCount})})]})}}}]);